# MonshinMate Cloud Run sample environment
# Copy this file to `.env` when deploying the Cloud Run variant.

# ===== GCP Artifact Registry / Cloud Run =====
REGION=asia-northeast1
REPO=monshinmate

# ===== Persistence =====
PERSISTENCE_BACKEND=firestore
MONSHINMATE_FIRESTORE_ADAPTER=monshinmate_cloud.firestore_adapter:FirestoreAdapter
MONSHINMATE_SECRET_MANAGER_ADAPTER=monshinmate_cloud.secret_manager:load_secrets
FIRESTORE_PROJECT_ID=maruguchi-clinic-hp
FIRESTORE_NAMESPACE=production
FIRESTORE_USE_EMULATOR=0
# FIRESTORE_EMULATOR_HOST=localhost:8081
GOOGLE_APPLICATION_CREDENTIALS=/secrets/service-account.json

# ===== Secret Manager =====
SECRET_MANAGER_ENABLED=1
SECRET_MANAGER_PROJECT=maruguchi-clinic-hp
SECRET_MANAGER_PREFIX=monshinmate

# ===== Storage =====
FILE_STORAGE_BACKEND=gcs
GCS_BUCKET=mm-prod-files-maruguchi-clinic-hp
# STORAGE_EMULATOR_HOST=localhost:9190
GCS_SIGNED_URL_TTL=3600

# ===== Secret Manager Version管理 =====
SECRET_PRUNE_OLD_VERSIONS=1
SECRET_VERSION_RETENTION=5

# ===== Application =====
# Cloud Run ではバックエンド・フロントエンドが別オリジンになるため、
# CORS 用に許可ドメインを明示的に列挙する。
FRONTEND_ALLOWED_ORIGINS=https://monshinmate.maruguchi-clinic.com,https://monshinmate-frontend-111678642417.asia-northeast1.run.app,https://monshinmate-frontend-s42tflqaoq-an.a.run.app
FRONTEND_HTTP_PORT=8080
ADMIN_EMERGENCY_RESET_PASSWORD=UDJV9090JJNJnjh
SECRET_KEY=0_qD9L_KAq7RM92e9mF9hZ7fUMANkjhiYBww9o4qd2I=
TOTP_ENC_KEY=3ItMG2QIX7z2bDYv-d4WYB-8mElPLd5L3c6iI9ikH5Q=
